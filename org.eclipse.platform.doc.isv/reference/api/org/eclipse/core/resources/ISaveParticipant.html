<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Wed Jun 01 23:03:20 UTC 2022 -->
<title>ISaveParticipant (Eclipse Platform API Specification)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2022-06-01">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ISaveParticipant (Eclipse Platform API Specification)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ISaveParticipant.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><span style='font-size:small'><b>Eclipse Platform</b><br>2022-06 (4.24)</span></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.eclipse.core.resources</a></div>
<h2 title="Interface ISaveParticipant" class="title">Interface ISaveParticipant</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EventListener.html?is-external=true" title="class or interface in java.util" class="externalLink">EventListener</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">ISaveParticipant</span>
extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EventListener.html?is-external=true" title="class or interface in java.util" class="externalLink">EventListener</a></pre>
<div class="block">A participant in the saving of the workspace.
 <p>
 Plug-ins implement this interface and register to participate
 in workspace save operations.
 </p>
 <p>
 Clients may implement this interface.
 </p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="IWorkspace.html#save(boolean,org.eclipse.core.runtime.IProgressMonitor)"><code>IWorkspace.save(boolean, org.eclipse.core.runtime.IProgressMonitor)</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doneSaving(org.eclipse.core.resources.ISaveContext)">doneSaving</a></span>&#8203;(<a href="ISaveContext.html" title="interface in org.eclipse.core.resources">ISaveContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Tells this participant that the workspace save operation is now
 complete and it is free to go about its normal business.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#prepareToSave(org.eclipse.core.resources.ISaveContext)">prepareToSave</a></span>&#8203;(<a href="ISaveContext.html" title="interface in org.eclipse.core.resources">ISaveContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Tells this participant that the workspace is about to be
 saved.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rollback(org.eclipse.core.resources.ISaveContext)">rollback</a></span>&#8203;(<a href="ISaveContext.html" title="interface in org.eclipse.core.resources">ISaveContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Tells this participant to rollback its important state.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#saving(org.eclipse.core.resources.ISaveContext)">saving</a></span>&#8203;(<a href="ISaveContext.html" title="interface in org.eclipse.core.resources">ISaveContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Tells this participant to save its important state because
 the workspace is being saved, as described in the supplied
 save context.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="doneSaving(org.eclipse.core.resources.ISaveContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doneSaving</h4>
<pre class="methodSignature">void&nbsp;doneSaving&#8203;(<a href="ISaveContext.html" title="interface in org.eclipse.core.resources">ISaveContext</a>&nbsp;context)</pre>
<div class="block">Tells this participant that the workspace save operation is now
 complete and it is free to go about its normal business.
 Exceptions are not expected to be thrown at this point, so they
 should be handled internally.
 <p>
 Note: This method is called by the platform; it is not intended
 to be called directly by clients.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the save context object</dd>
</dl>
</li>
</ul>
<a id="prepareToSave(org.eclipse.core.resources.ISaveContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareToSave</h4>
<pre class="methodSignature">void&nbsp;prepareToSave&#8203;(<a href="ISaveContext.html" title="interface in org.eclipse.core.resources">ISaveContext</a>&nbsp;context)
            throws <a href="../runtime/CoreException.html" title="class in org.eclipse.core.runtime">CoreException</a></pre>
<div class="block">Tells this participant that the workspace is about to be
 saved. In preparation, the participant is expected to suspend
 its normal operation until further notice. <code>saving</code>
 will be next, followed by either <code>doneSaving</code>
 or <code>rollback</code> depending on whether the workspace
 save was successful.
 <p>
 Note: This method is called by the platform; it is not intended
 to be called directly by clients.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the save context object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../runtime/CoreException.html" title="class in org.eclipse.core.runtime">CoreException</a></code> - if this method fails to snapshot
   the state of this workspace</dd>
</dl>
</li>
</ul>
<a id="rollback(org.eclipse.core.resources.ISaveContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre class="methodSignature">void&nbsp;rollback&#8203;(<a href="ISaveContext.html" title="interface in org.eclipse.core.resources">ISaveContext</a>&nbsp;context)</pre>
<div class="block">Tells this participant to rollback its important state.
 The context's previous state number indicates what it was prior
 to the failed save.
 Exceptions are not expected to be thrown at this point, so they
 should be handled internally.
 <p>
 Note: This method is called by the platform; it is not intended
 to be called directly by clients.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the save context object</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="ISaveContext.html#getPreviousSaveNumber()"><code>ISaveContext.getPreviousSaveNumber()</code></a></dd>
</dl>
</li>
</ul>
<a id="saving(org.eclipse.core.resources.ISaveContext)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>saving</h4>
<pre class="methodSignature">void&nbsp;saving&#8203;(<a href="ISaveContext.html" title="interface in org.eclipse.core.resources">ISaveContext</a>&nbsp;context)
     throws <a href="../runtime/CoreException.html" title="class in org.eclipse.core.runtime">CoreException</a></pre>
<div class="block">Tells this participant to save its important state because
 the workspace is being saved, as described in the supplied
 save context.
 <p>
 Note: This method is called by the platform; it is not intended
 to be called directly by clients.
 </p>
 <p>
 The basic contract for this method is the same for full saves,
 snapshots and project saves: the participant must absolutely guarantee that any
 important user data it has gathered will not be irrecoverably lost
 in the event of a crash. The only difference is in the space-time
 tradeoffs that the participant should make.</p>
 <ul>
 <li>Full saves: the participant is
 encouraged to save additional non-essential information that will aid
 it in retaining user state and configuration information and quickly getting
 back in sync with the state of the platform at a later point.
 </li>
 <li>Snapshots: the participant is discouraged from saving non-essential
 information that could be recomputed in the unlikely event of a crash.
 This lifecycle event will happen often and participant actions should take
 an absolute minimum of time.
 </li>
 <li>Project saves: the participant should only save project related data.
 It is discouraged from saving non-essential information that could be recomputed
 in the unlikely event of a crash.
 </li>
 </ul>
 For instance, the Java IDE gathers various user preferences and would want to
 make sure that the current settings are safe and sound after a
 <code>save</code> (if not saved immediately).
 The Java IDE would likely save computed image builder state on full saves,
 because this would allow the Java IDE to be restarted later and not
 have to recompile the world at that time. On the other hand, the Java
 IDE would not save the image builder state on a snapshot because
 that information is non-essential; in the unlikely event of a crash,
 the image should be rebuilt either from scratch or from the last saved
 state.
 <p>
 The following snippet shows how a plug-in participant would write
 its important state to a file whose name is based on the save
 number for this save operation.</p>
 <pre>
     Plugin plugin = ...; // known
     int saveNumber = context.getSaveNumber();
     String saveFileName = "save-" + Integer.toString(saveNumber);
     File f = plugin.getStateLocation().append(saveFileName).toFile();
     plugin.writeImportantState(f);
     context.map(new Path("save"), new Path(saveFileName));
     context.needSaveNumber();
     context.needDelta(); // optional
 </pre>
 <p>
 When the plug-in is reactivated in a subsequent workspace session,
 it needs to re-register to participate in workspace saves. When it
 does so, it is handed back key information about what state it had last
 saved. If it's interested, it can also ask for a resource delta
 describing all resource changes that have happened since then, if this
 information is still available.
 The following snippet shows what a participant plug-in would
 need to do if and when it is reactivated:
 </p>
 <pre>
     IWorkspace ws = ...; // known
     Plugin plugin = ...; // known
     ISaveParticipant saver = ...; // known
     ISavedState ss = ws.addSaveParticipant(plugin, saver);
     if (ss == null) {
         // activate for very first time
         plugin.buildState();
     } else {
         String saveFileName = ss.lookup(new Path("save"));
         File f = plugin.getStateLocation().append(saveFileName).toFile();
         plugin.readImportantState(f);
         IResourceChangeListener listener = new IResourceChangeListener() {
             public void resourceChanged(IResourceChangeEvent event) {
                 IResourceDelta delta = event.getDelta();
                 if (delta != null) {
                     // fast reactivation using delta
                     plugin.updateState(delta);
                 } else {
                     // slower reactivation without benefit of delta
                     plugin.rebuildState();
                 }
         };
         ss.processResourceChangeEvents(listener);
     }
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the save context object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../runtime/CoreException.html" title="class in org.eclipse.core.runtime">CoreException</a></code> - if this method fails</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="ISaveContext.html#getSaveNumber()"><code>ISaveContext.getSaveNumber()</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ISaveParticipant.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><span style='font-size:small'><b>Eclipse Platform</b><br>2022-06 (4.24)</span></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><br><span style='font-size:small;float:right'>Copyright (c) 2000, 2022 Eclipse Contributors and others. All rights reserved.</span><span style='font-size:small'><a href='../../../../../misc/api-usage-rules.html'>Guidelines for using Eclipse APIs.</a></span></small></p>
</footer>
</body>
</html>
